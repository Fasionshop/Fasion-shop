<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö - Fasion shop</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    /* üî• ‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏ô‡∏ï‡πå Sarabun üî• */
    body { margin:0; font-family:'Sarabun',sans-serif; background:#f5f5f5; display:flex; flex-direction:column; height:100vh; }
    
    .header { background:white; padding:20px 40px; display:flex; justify-content:space-between; box-shadow:0 2px 5px rgba(0,0,0,0.05); align-items:center; }
    .main-content { background:#ee4d2d; flex-grow:1; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:20px; position: relative; overflow: hidden; }
    .main-content::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
    
    /* ‡πÄ‡∏≠‡∏≤ CSS ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß */

    .auth-card { background:white; width:100%; max-width:400px; padding:40px 30px; border-radius:8px; box-shadow:0 8px 20px rgba(0,0,0,0.2); position: relative; z-index: 2; }
    .tabs { display:flex; margin-bottom:25px; border-bottom:1px solid #eee; }
    .tab-item { flex:1; text-align:center; padding:10px; cursor:pointer; color:#888; transition: 0.3s; }
    .tab-item.active { color:#ee4d2d; border-bottom:2px solid #ee4d2d; font-weight:600; }
    
    input { width:100%; padding:12px; margin-bottom:15px; border:1px solid #ddd; box-sizing:border-box; border-radius:4px; font-family: 'Sarabun', sans-serif; font-size: 1rem; transition: 0.3s; }
    input:focus { border-color: #ee4d2d; outline: none; }
    
    button { width:100%; background:#ee4d2d; color:white; padding:12px; border:none; cursor:pointer; font-size:1.1rem; border-radius:4px; transition:0.3s; font-family: 'Sarabun', sans-serif; font-weight: 600; }
    button:hover { background: #d73211; transform: translateY(-1px); }
    button:disabled { background:#ccc; cursor: not-allowed; }
    
    .forgot-link { display: block; text-align: right; margin-bottom: 15px; color: #666; font-size: 0.9rem; text-decoration: none; }
    .forgot-link:hover { color: #ee4d2d; text-decoration: underline; }
    
    .error { color:#d93025; font-size:0.9rem; text-align:center; margin-bottom:15px; display:none; background: #ffe6e6; padding: 10px; border-radius: 4px; }
    .success { color:#188038; font-size:0.9rem; text-align:center; margin-bottom:15px; display:none; background: #e6f4ea; padding: 10px; border-radius: 4px; }
    .back-btn { background: #f1f1f1; color: #333; margin-top: 10px; }
    .back-btn:hover { background: #e0e0e0; }
  </style>
</head>
<body>
  <div class="header">
    <div style="display:flex; align-items:center; gap:10px;">
       <h1 style="color:#ee4d2d; margin:0; font-size:1.5rem;">Fasion Shop</h1>
    </div>
  </div>

  <div class="main-content">
    
    <div class="auth-card">
      
      <div class="tabs" id="tabContainer">
        <div class="tab-item active" onclick="switchTab('login')">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</div>
        <div class="tab-item" onclick="switchTab('register')">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà</div>
      </div>

      <div id="errMsg" class="error"></div>
      <div id="successMsg" class="success"></div>

      <form id="loginForm" onsubmit="doLogin(event)">
        <input type="email" id="lEmail" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" required>
        <input type="password" id="lPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
        <a href="#" class="forgot-link" onclick="switchTab('reset')">‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô?</a>
        <button id="lBtn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      </form>

      <form id="regForm" onsubmit="doReg(event)" style="display:none;">
        <input type="email" id="rEmail" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" required>
        <input type="password" id="rPass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (6 ‡∏ï‡∏±‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ)" required minlength="6">
        <input type="password" id="rPass2" placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
        <button id="rBtn">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
      </form>

      <form id="resetForm" onsubmit="doReset(event)" style="display:none;">
        <h3 style="text-align:center; color:#333; margin-top:0;">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
        <p style="font-size:0.95rem; color:#666; text-align:center; margin-bottom:20px;">‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ó‡∏≤‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•</p>
        <input type="email" id="resetEmail" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" required>
        <button id="resetBtn">‡∏™‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
        <button type="button" class="back-btn" onclick="switchTab('login')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      </form>

    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyA7lELq82KxJ0sFDf6jKmWPDFKpKqHJp0c",
      authDomain: "king007-c72e2.firebaseapp.com",
      projectId: "king007-c72e2",
      storageBucket: "king007-c72e2.firebasestorage.app",
      messagingSenderId: "136587774092",
      appId: "1:136587774092:web:4ee67ff03cdee67bb393a9",
      measurementId: "G-K39CYF7766"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ñ‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Shop
    auth.onAuthStateChanged(u => { if(u) window.location.href='shop.html'; });

    function switchTab(m) {
      document.getElementById('errMsg').style.display='none';
      document.getElementById('successMsg').style.display='none';
      const t=document.getElementById('tabContainer');
      ['loginForm','regForm','resetForm'].forEach(id=>document.getElementById(id).style.display='none');
      
      if(m==='login') {
        document.getElementById('loginForm').style.display='block'; t.style.display='flex';
        updateActiveTab(0);
      } else if(m==='register') {
        document.getElementById('regForm').style.display='block'; t.style.display='flex';
        updateActiveTab(1);
      } else {
        document.getElementById('resetForm').style.display='block'; t.style.display='none';
      }
    }
    function updateActiveTab(idx) {
      const tabs = document.querySelectorAll('.tab-item');
      tabs.forEach((t, i) => { if(i===idx) t.classList.add('active'); else t.classList.remove('active'); });
    }

    async function doLogin(e) {
      e.preventDefault();
      const btn = document.getElementById('lBtn'); btn.disabled=true; btn.innerText="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö...";
      try { await auth.signInWithEmailAndPassword(document.getElementById('lEmail').value, document.getElementById('lPass').value); }
      catch(err) { showErr("‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"); btn.disabled=false; btn.innerText="‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"; }
    }

    async function doReg(e) {
      e.preventDefault();
      const p1 = document.getElementById('rPass').value, p2 = document.getElementById('rPass2').value;
      if(p1!==p2) return showErr("‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô");
      const btn = document.getElementById('rBtn'); btn.disabled=true; btn.innerText="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏°‡∏±‡∏Ñ‡∏£...";
      try { await auth.createUserWithEmailAndPassword(document.getElementById('rEmail').value, p1); alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"); }
      catch(err) { showErr(err.message); btn.disabled=false; btn.innerText="‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"; }
    }

    async function doReset(e) {
      e.preventDefault();
      const email = document.getElementById('resetEmail').value;
      const btn = document.getElementById('resetBtn'); btn.disabled=true; btn.innerText="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...";
      try {
        await auth.sendPasswordResetEmail(email);
        document.getElementById('successMsg').innerText = "‚úÖ ‡∏™‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÑ‡∏õ‡∏ó‡∏µ‡πà "+email+" ‡πÅ‡∏•‡πâ‡∏ß";
        document.getElementById('successMsg').style.display='block';
        document.getElementById('errMsg').style.display='none';
        btn.disabled=false; btn.innerText="‡∏™‡πà‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
      } catch(err) { showErr("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö"); btn.disabled=false; btn.innerText="‡∏™‡πà‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï"; }
    }

    function showErr(t) { const e=document.getElementById('errMsg'); e.innerText=t; e.style.display='block'; document.getElementById('successMsg').style.display='none'; }
  </script>
</body>
</html>